---
import type { CollectionEntry } from "astro:content";
import Card from "@/components/ui/card/Card.astro";
import CardHeader from "@/components/ui/card/CardHeader.astro";
import CardTitle from "@/components/ui/card/CardTitle.astro";
import CardDescription from "@/components/ui/card/CardDescription.astro";
import CardContent from "@/components/ui/card/CardContent.astro";

interface Props {
  articles: CollectionEntry<"articles">[];
}

const { articles } = Astro.props;
---

<h1 class="text-xl text-center font-bold">Blog</h1>

<div class="mt-4 space-y-4">
  {
    articles
      .sort((pa, pb) => {
        const a = new Date(pa.data.date);
        const b = new Date(pb.data.date);
        return b.getTime() - a.getTime();
      })
      .map((article) => (
        <a href={`/blog/${article.slug}`}>
          <Card class="border-0 shadow-none transition-colors duration-500 hover:bg-secondary/30">
            <CardHeader class="pb-2">
              <CardTitle>{article.data.title}</CardTitle>
              <CardDescription>
                {article.data.date.toLocaleDateString()}
              </CardDescription>
            </CardHeader>
            <CardContent class="text-muted-foreground">
              {article.data.description}
            </CardContent>
          </Card>
        </a>
      ))
  }
</div>
